<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pspsdk-1.0+beta2: src/vfpu/pspvfpu.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_a767a14c4ba279561bba8bcb1af2069f.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_fa9000d8c52c9584c2ff68ba46fb06ed.html">vfpu</a></div>
<h1>pspvfpu.c File Reference</h1>
<p>
<code>#include &lt;<a class="el" href="malloc_8h-source.html">malloc.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="string_8h-source.html">string.h</a>&gt;</code><br>
<code>#include &quot;<a class="el" href="pspthreadman_8h-source.html">pspthreadman.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="pspvfpu_8h-source.html">pspvfpu.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpspvfpu__context.html">pspvfpu_context</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pspvfpu_8c.html#81eeb3ca3337d4e47ad8fcd26536d857">NMAT</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pspvfpu_8c.html#e18fd4698199e1ab4a6200fe8b684510">SV</a>(N)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pspvfpu_8c.html#f8ea4f9d8f51cab47a2c77fecf24c11a">LV</a>(N)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pspvfpu_8c.html#660efc6315092c80b449446cd3eed6a8">pspvfpu_use_matrices</a> (struct <a class="el" href="structpspvfpu__context.html">pspvfpu_context</a> *c, <a class="el" href="pspvfpu_8h.html#eba2787b48612341054003bf6574dc46">vfpumatrixset_t</a> keepset, <a class="el" href="pspvfpu_8h.html#eba2787b48612341054003bf6574dc46">vfpumatrixset_t</a> tempset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Use a set of VFPU matrices.  <a href="#660efc6315092c80b449446cd3eed6a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structpspvfpu__context.html">pspvfpu_context</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pspvfpu_8c.html#23cae8303bbac098947100b9a27f5181">pspvfpu_initcontext</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare to use the VFPU.  <a href="#23cae8303bbac098947100b9a27f5181"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pspvfpu_8c.html#53928edd03902ad8c1a36bf2206f6e41">pspvfpu_deletecontext</a> (struct <a class="el" href="structpspvfpu__context.html">pspvfpu_context</a> *c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a VFPU context.  <a href="#53928edd03902ad8c1a36bf2206f6e41"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="f8ea4f9d8f51cab47a2c77fecf24c11a"></a><!-- doxytag: member="pspvfpu.c::LV" ref="f8ea4f9d8f51cab47a2c77fecf24c11a" args="(N)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define LV          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">N&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">asm</span>(<span class="stringliteral">"lv.q       c"</span>#N<span class="stringliteral">"00,  0 + %0\n"</span>     \
            <span class="stringliteral">"lv.q       c"</span>#N<span class="stringliteral">"10, 16 + %0\n"</span>     \
            <span class="stringliteral">"lv.q       c"</span>#N<span class="stringliteral">"20, 32 + %0\n"</span>     \
            <span class="stringliteral">"lv.q       c"</span>#N<span class="stringliteral">"30, 48 + %0\n"</span>     \
            : : <span class="stringliteral">"m"</span> (c-&gt;fpregs[N * 4*4])        \
            : <span class="stringliteral">"memory"</span>)
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="81eeb3ca3337d4e47ad8fcd26536d857"></a><!-- doxytag: member="pspvfpu.c::NMAT" ref="81eeb3ca3337d4e47ad8fcd26536d857" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NMAT&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="e18fd4698199e1ab4a6200fe8b684510"></a><!-- doxytag: member="pspvfpu.c::SV" ref="e18fd4698199e1ab4a6200fe8b684510" args="(N)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define SV          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">N&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">asm</span>(<span class="stringliteral">"sv.q       c"</span>#N<span class="stringliteral">"00,  0 + %0, wt\n"</span> \
            <span class="stringliteral">"sv.q       c"</span>#N<span class="stringliteral">"10, 16 + %0, wt\n"</span> \
            <span class="stringliteral">"sv.q       c"</span>#N<span class="stringliteral">"20, 32 + %0, wt\n"</span> \
            <span class="stringliteral">"sv.q       c"</span>#N<span class="stringliteral">"30, 48 + %0, wt\n"</span> \
            : <span class="stringliteral">"=m"</span> (c-&gt;fpregs[N * 4*4])         \
            : : <span class="stringliteral">"memory"</span>)
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="53928edd03902ad8c1a36bf2206f6e41"></a><!-- doxytag: member="pspvfpu.c::pspvfpu_deletecontext" ref="53928edd03902ad8c1a36bf2206f6e41" args="(struct pspvfpu_context *c)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void pspvfpu_deletecontext           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structpspvfpu__context.html">pspvfpu_context</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Delete a VFPU context. 
<p>
This frees the resources used by the VFPU context.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>The VFPU context to be deleted. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="23cae8303bbac098947100b9a27f5181"></a><!-- doxytag: member="pspvfpu.c::pspvfpu_initcontext" ref="23cae8303bbac098947100b9a27f5181" args="(void)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">struct <a class="el" href="structpspvfpu__context.html">pspvfpu_context</a>* pspvfpu_initcontext           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Prepare to use the VFPU. 
<p>
This set's the calling thread's VFPU attribute, and returns a pointer to some VFPU state storage. The initial value all all VFPU matrix registers is undefined.<p>
<dl compact><dt><b>Returns:</b></dt><dd>A VFPU context </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="660efc6315092c80b449446cd3eed6a8"></a><!-- doxytag: member="pspvfpu.c::pspvfpu_use_matrices" ref="660efc6315092c80b449446cd3eed6a8" args="(struct pspvfpu_context *c, vfpumatrixset_t keepset, vfpumatrixset_t tempset)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void pspvfpu_use_matrices           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structpspvfpu__context.html">pspvfpu_context</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="pspvfpu_8h.html#eba2787b48612341054003bf6574dc46">vfpumatrixset_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>keepset</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="pspvfpu_8h.html#eba2787b48612341054003bf6574dc46">vfpumatrixset_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>tempset</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use a set of VFPU matrices. 
<p>
This restores the parts of the VFPU state the caller wants restored (if necessary). If the caller was the previous user of the the matrix set, then this call is effectively a no-op. If a matrix has never been used by this context before, then it will initially have an undefined value.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>The VFPU context the caller wants to restore from. It is valid to pass NULL as a context. This means the caller wants to reserve a temporary matrix without affecting other VFPU users, but doesn't want any long-term matrices itself.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>keepset</em>&nbsp;</td><td>The set of matrices the caller wants to use, and keep the values persistently.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tempset</em>&nbsp;</td><td>A set of matrices the callers wants to use temporarily, but doesn't care about the values in the long-term. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Tue Nov 21 11:46:05 2006 for pspsdk-1.0+beta2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
